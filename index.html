<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v1</title>

   
<link rel="stylesheet" href="css/style.css">
<script src="js/script.js"></script>

</head>

<body>

    <!--侧边栏-->
    <div class="bar-left">
        <!--头像栏-->
        <img src="images/cup.png" class="icon-main" alt="中国石油大学（北京）校徽"/>
        <!--导航栏-->
        <div>
            <div id="menu-group"></div>
            <div id="scrollable-slide">
                <img src="images/image1.jpg" class="scrollable-slide-item">
                <img src="images/image2.jpg" class="scrollable-slide-item">
                <img src="images/image3.jpg" class="scrollable-slide-item">
            </div>
        </div>
    </div>
    <!--主区域-->
    <div class="main-context">
        <!--头部栏-->
        <div class="main-context-top">欢迎来到此页面！</div>
        <!--左区-->
        <div class="main-context-left">
            <!--数据区-->
            <div id="main-context-data"></div>
            <!--列表区-->
            <div id="main-context-list"></div>
        </div>
        <!--右区-->
        <div class="main-context-right">
            <!--消息区-->
            <div class="main-context-message"><div>PS：点击链接可以跳转至管道相关数据网页。</div></div>
            <!--提示区-->
            <div class="main-context-hint">
                <span>联系方式：xxxxxxxxx</span>
                <div class="clickable" onclick="window.location.href = 'renYuan.html'">小组介绍</div>
            </div>
        </div>
    </div>

    <script>
        const MENU_TITLES = ["导航1","导航2","导航3","导航4"];
        const MAIN_CONTEXT_DATA = [
            {name:"起/止点", href:"qi_zhiPoin.html"},
            {name:"途径地区", href:"tuJingDiQu.html"},
            {name:"长度", href:"cahngDu.html"},
            {name:"投产时间", href:"touChanShiJian.html"}
        ];
        const MAIN_CONTEXT_LIST = [
            {name:"设计压力", href:"sheji_P.html"},
            {name:"设计流量", href:"sheji_Q.html"},
            {name:"摩阻系数", href:"F.html"}
        ];
        const SLIDE_SCROLL_MS = 2000;

        let menu_dom = document.getElementById("menu-group");
        for(let i=0;i<MENU_TITLES.length;i++){
            menu_dom.innerHTML += `<div class="menu-item">${MENU_TITLES[i]}</div>\n`;
        }
        let main_context_data_dom = document.getElementById("main-context-data");
        for(let i=0;i<MAIN_CONTEXT_DATA.length;i++){
            main_context_data_dom.innerHTML +=
                `<div style="width:calc(100% * ${1/MAIN_CONTEXT_DATA.length} - 1px)"
                    class="main-context-data-item"
                    onclick="window.location.href='${MAIN_CONTEXT_DATA[i].href}'">
                        ${MAIN_CONTEXT_DATA[i].name}
                </div>`;
        }
        let main_context_list_dom = document.getElementById("main-context-list");
        for(let i=0;i<MAIN_CONTEXT_LIST.length;i++){
            main_context_list_dom.innerHTML +=
                `<div style="height:calc(100% * ${(1/MAIN_CONTEXT_LIST.length).toFixed(2)} - 1px)"
                    class="main-context-list-item"
                    onclick="window.location.href='${MAIN_CONTEXT_LIST[i].href}'">
                        <div>${MAIN_CONTEXT_LIST[i].name}</div>
                </div>`;
        }

        function scroll_worker(dom){
            if(dom.scrollHeight <= dom.clientHeight){
                return;
            }
            if (dom.scrollTop + 1.5*dom.clientHeight >= dom.scrollHeight) {
                dom.scrollTop = 0;
            } else {
                dom.scrollTop += dom.clientHeight;
            }
        }

        let slide_dom = document.getElementById("scrollable-slide");
        let slide_scroll_task = setInterval(()=>{scroll_worker(slide_dom)}, SLIDE_SCROLL_MS);

    </script>
</body>

</html>